(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"713b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpr fff"}},[a("q-header",{staticClass:"col bg-blue-grey-9 text-amber-8",attrs:{reveal:"",bordered:"","height-hint":"50"}},[a("q-toolbar",{staticClass:"q-pt-sm"},[a("q-btn",{staticClass:"q-mr-md",attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.left=!t.left}}}),t.$q.screen.gt.sm?a("q-btn",{staticClass:"q-mr-xl",attrs:{flat:"",round:"",dense:"",icon:"search",size:"lg"},on:{click:function(e){t.searchFieldVisible=!t.searchFieldVisible}}},[t.searchFieldVisible?t._e():a("span",{staticStyle:{"font-size":"medium"}},[t._v("\n        Search\n        ")])]):t._e(),a("form",{directives:[{name:"show",rawName:"v-show",value:t.searchFieldVisible||t.$q.screen.lt.md,expression:"searchFieldVisible || $q.screen.lt.md"}],staticClass:"row q-pt-xs",on:{submit:[function(t){t.preventDefault()},t.search]}},[a("q-input",{ref:"searchInput",staticClass:"q-mr-sm",attrs:{filled:"",type:"search",placeholder:"Type here","aria-required":"true",dense:"",required:"","bg-color":"blue-grey-6",color:"amber-8"},model:{value:t.searchRequest,callback:function(e){t.searchRequest=e},expression:"searchRequest"}}),a("div",{staticClass:"search-wrapper"},[a("q-btn",{attrs:{label:"Search",type:"submit"}})],1)],1),a("q-space"),this.currentUser?t._e():a("q-btn",{staticClass:"q-mr-md",attrs:{flat:"",round:"",dense:"",icon:"login",size:"lg",to:{name:"login"}}},[a("q-tooltip",[t._v("\n          Login\n        ")])],1),this.currentUser?a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-btn",{staticClass:"q-mr-md",attrs:{flat:"",round:"",dense:"",icon:"account_circle",size:"lg"},on:{click:function(e){t.confirm=!0}}},[a("q-tooltip",[t._v("\n            Logout\n          ")])],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",{staticClass:"bg-blue-grey-9"},[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"account_circle",color:"amber-8","text-color":"white"}}),a("span",{staticClass:"q-ml-sm text-amber-8 "},[t._v("\n                "+t._s(this.currentUser.username)+" do you really want to logout?\n              ")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"amber-8"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Logout",color:"amber-8"},on:{click:t.logout}})],1)],1)],1)],1):t._e(),a("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",dense:"",icon:"local_mall",size:"lg",to:{name:"cart"}}},[a("q-tooltip",[t._v("\n          Cart\n        ")]),this.cartLength?a("q-badge",{attrs:{color:"primary",floating:"",transparent:""}},[t._v("\n          "+t._s(this.cartLength)+"\n        ")]):t._e()],1)],1),a("q-toolbar",[a("q-toolbar-title",{attrs:{align:"center"}},[a("q-btn",{staticStyle:{"font-size":"20px"},attrs:{flat:"",to:"/",dense:""}},[t._v("\n          NECKLACE\n        ")])],1)],1)],1),a("q-drawer",{attrs:{"show-if-above":"",side:"left",overlay:"",behavior:"mobile",elevated:""},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[a("q-tabs",{staticClass:"text-amber-8 bg-blue-grey-9 column items-center",staticStyle:{height:"60vh"},attrs:{vertical:""}},[a("q-btn",{staticClass:"q-ma-md fixed-top-right",attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){t.left=!t.left}}}),a("br"),a("br"),a("br"),a("q-route-tab",{attrs:{to:"/gallery",label:"Галерея"}}),a("q-route-tab",{attrs:{to:"/how_to_buy",label:"Як придбати"}}),a("q-route-tab",{attrs:{to:"/about",label:"Про нас"}}),a("q-route-tab",{attrs:{to:"/blog",label:"Блог"}}),a("q-route-tab",{attrs:{to:"/inspiration",label:"Для натхнення"}}),this.currentUser&&this.currentUser.is_superuser?a("q-route-tab",{attrs:{to:"/add_product",label:"Add or edit products"}}):t._e()],1),a("div",{staticClass:"text-amber-8 bg-blue-grey-9 row justify-center items-start",staticStyle:{height:"40vh"}},[this.currentUser&&this.currentUser.is_superuser?a("q-btn",[a("a",{staticClass:"text-amber-9",staticStyle:{"text-decoration":"none"},attrs:{href:"http://localhost:8000/admin/"}},[t._v("\n          Admin\n        ")])]):t._e()],1)],1),a("q-page-container",[a("router-view")],1),a("q-footer",{staticClass:"bg-blue-grey-9 text-amber-8",attrs:{reveal:"",bordered:""}},[a("div",{staticClass:"q-pa-sm row justify-center"},[a("div",{staticClass:"q-gutter-md material-icons-round",staticStyle:{"font-size":"2em"}},[a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://www.facebook.com/jewellery/",target:"_blank",rel:"nofollow noreferrer noopener"}},[a("q-icon",{staticClass:"text-amber-8",attrs:{name:"fab fa-facebook"}})],1),a("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://www.instagram.com/jewelry/",target:"_blank",rel:"nofollow noreferrer noopener"}},[a("q-icon",{staticClass:"text-amber-8",attrs:{name:"fab fa-instagram"}})],1),a("span",{staticStyle:{"font-size":"large"}},[t._v("\n          ©  Necklace\n        ")])])])])],1)},r=[],o=(a("e6cf"),{data(){return{left:!1,searchFieldVisible:!1,searchRequest:"",currentUser:null,confirm:!1,cartLength:null}},methods:{logout(){this.$removeTokens(),this.currentUser=null,location.reload()},setCurrentUserFromMain(){setTimeout((async()=>{this.currentUser=await this.$getCurrentUser()}),300)},search(){this.$router.push({name:"search",query:{searchRequest:this.searchRequest}})}},beforeMount(){this.$getCurrentUser()&&(this.currentUser=this.$getCurrentUser()),localStorage.getItem("access")&&(this.$axiosCheckAccessToken().then((t=>{this.currentUser=t.data,this.$setCurrentUser(t.data)})).catch((t=>{401===t.request.status&&this.$axiosCheckRefreshToken().then((t=>{const{access:e,refresh:a}=t.data;this.$setTokens(e,a),this.$axiosCheckAccessToken().then((t=>{this.$setCurrentUser(t.data),this.currentUser=t.data})).catch((t=>{console.log(t,"error in second scenario")}))})).catch((t=>{this.$removeTokens(),console.log(t,"none of tokens is valid")}))})).catch((t=>{console.log(t,"last catch")})),this.setCurrentUserFromMain())},created(){this.$root.$on("cartLength",(t=>{this.cartLength=t})),this.$localstorageGetCart()&&(this.cartLength=this.$localstorageGetCart().length)}}),n=o,c=a("2877"),i=a("4d5a"),l=a("e359"),u=a("65c6"),h=a("9c40"),b=a("27f9"),d=a("2c91"),m=a("05c0"),f=a("24e8"),p=a("f09f"),q=a("a370"),g=a("cb32"),v=a("4b7e"),C=a("58a81"),w=a("6ac5"),y=a("9404"),_=a("429b"),k=a("7867"),x=a("09e3"),Q=a("7ff0"),U=a("c294"),$=a("72db"),S=a("0016"),T=a("7f67"),F=a("eebe"),L=a.n(F),z=Object(c["a"])(n,s,r,!1,null,null,null);e["default"]=z.exports;L()(z,"components",{QLayout:i["a"],QHeader:l["a"],QToolbar:u["a"],QBtn:h["a"],QInput:b["a"],QSpace:d["a"],QTooltip:m["a"],QDialog:f["a"],QCard:p["a"],QCardSection:q["a"],QAvatar:g["a"],QCardActions:v["a"],QBadge:C["a"],QToolbarTitle:w["a"],QDrawer:y["a"],QTabs:_["a"],QRouteTab:k["a"],QPageContainer:x["a"],QFooter:Q["a"],QFab:U["a"],QFabAction:$["a"],QIcon:S["a"]}),L()(z,"directives",{ClosePopup:T["a"]})}}]);